{"ast":null,"code":"import _slicedToArray from\"C:/Users/admin/Desktop/shops/cart/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useEffect,useState}from\"react\";// import Fashion from './Fashion'\n// import { CartProvider } from 'react-use-cart'\nimport Header from\"./Header\";// import Mobiles from './Mobiles';\nimport Cookies from\"universal-cookie\";import axios from\"axios\";import\"./app1.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function CartItem(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),firstrender=_useState2[0],setfirstrender=_useState2[1];var _useState3=useState(\"dontshow\"),_useState4=_slicedToArray(_useState3,2),showtotal=_useState4[0],setShowtotal=_useState4[1];var total=0;var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];useEffect(function(){var token=new Cookies().get(\"token\");if(!token){window.location=\"/login\";}axios.post(\"http://localhost:4000/app/user\",{token:token}).then(function(res){setUser(res.data);setfirstrender(false);});},[firstrender]);var handleClick=function handleClick(){if(showtotal===\"dontshow\"){setShowtotal(\"show\");setTimeout(function(){setShowtotal(\"dontshow\");},3000);}};// const {cartitem}=props;\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",margin:\"0\"},children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:showtotal,style:{wordWrap:\"wrap\",margin:\"0\"},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"your order has ben recorded\"})})}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"white\",margin:\"5vh 10vw\",borderRadius:\"7px\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{padding:\"4vh 0\"},children:/*#__PURE__*/_jsx(\"i\",{children:\"CART ITEMS\"})}),!firstrender?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"ul\",{className:\"mobiles\",children:user.cartitems.length?user.cartitems.map(function(mobile,index){total=total+mobile.price;return/*#__PURE__*/ (// <div >\n_jsx(\"li\",{style:{display:\"block\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"mobile\",style:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",borderLeft:\"9px\",borderTop:\"0\",borderBottom:\"0\",borderRight:\"0\",borderStyle:\"solid\",borderColor:\"black\",margin:\"2vh 14vw\",wordWrap:\"wrap\",backgroundColor:\"orange\",borderRadius:\"7px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"img\",{src:mobile.image,alt:mobile.title,style:{margin:\"2vh 2vw\",borderRadius:\"7px\",height:\"100px\",width:\"100px\"}}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"2vh 2vw\"},children:[/*#__PURE__*/_jsx(\"p\",{children:mobile.title}),/*#__PURE__*/_jsx(\"div\",{className:\"mobile-price\",children:mobile.price})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){var x={obj:mobile,user:user.email};axios.post(\"http://localhost:4000/app/delete\",x).then(function(){if(firstrender){setfirstrender(false);}else{setfirstrender(true);}});},style:{backgroundColor:\"red\",margin:\"0 2vw 0 0\"},children:\"Delete\"})})]})},index)// </div>\n);}):/*#__PURE__*/_jsx(\"li\",{style:{display:\"block\",color:\"Highlight\"},children:/*#__PURE__*/_jsx(\"h1\",{children:\"NO CART ITEMS TO DISPLAY\"})},\"nothing\")}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",total?/*#__PURE__*/_jsxs(\"p\",{children:[\"YOUR TOTAL AMOUNT \",total]}):null]}),user.cartitems.length?/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleClick,children:\"BUY\"}):/*#__PURE__*/_jsx(\"p\",{})]}):null]})]})});}","map":{"version":3,"sources":["C:/Users/admin/Desktop/shops/cart/client/src/component/CartItem.js"],"names":["React","useEffect","useState","Header","Cookies","axios","CartItem","props","firstrender","setfirstrender","showtotal","setShowtotal","total","user","setUser","token","get","window","location","post","then","res","data","handleClick","setTimeout","textAlign","margin","wordWrap","backgroundColor","borderRadius","padding","cartitems","length","map","mobile","index","price","display","alignItems","justifyContent","borderLeft","borderTop","borderBottom","borderRight","borderStyle","borderColor","image","title","height","width","x","obj","email","color"],"mappings":"+JAAA,OAASA,KAAT,CAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA;AACA;AACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA;AACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,C,6IAEA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACtC,cAAsCL,QAAQ,CAAC,IAAD,CAA9C,wCAAOM,WAAP,eAAoBC,cAApB,eACA,eAAkCP,QAAQ,CAAC,UAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eACA,GAAIC,CAAAA,KAAK,CAAG,CAAZ,CACA,eAAwBV,QAAQ,CAAC,EAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eACAb,SAAS,CAAC,UAAM,CACd,GAAMc,CAAAA,KAAK,CAAG,GAAIX,CAAAA,OAAJ,GAAcY,GAAd,CAAkB,OAAlB,CAAd,CACA,GAAI,CAACD,KAAL,CAAY,CACVE,MAAM,CAACC,QAAP,CAAkB,QAAlB,CACD,CACDb,KAAK,CAACc,IAAN,CAAW,gCAAX,CAA6C,CAAEJ,KAAK,CAALA,KAAF,CAA7C,EAAwDK,IAAxD,CAA6D,SAACC,GAAD,CAAS,CACpEP,OAAO,CAACO,GAAG,CAACC,IAAL,CAAP,CACAb,cAAc,CAAC,KAAD,CAAd,CACD,CAHD,EAID,CATQ,CASN,CAACD,WAAD,CATM,CAAT,CAWA,GAAMe,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAIb,SAAS,GAAK,UAAlB,CAA8B,CAC5BC,YAAY,CAAC,MAAD,CAAZ,CACAa,UAAU,CAAC,UAAK,CACdb,YAAY,CAAC,UAAD,CAAZ,CACD,CAFS,CAER,IAFQ,CAAV,CAGD,CACF,CAPD,CAQA;AACA,mBACE,sCACE,aAAM,KAAK,CAAI,CAACc,SAAS,CAAC,QAAX,CAAoBC,MAAM,CAAC,GAA3B,CAAf,wBACE,KAAC,MAAD,IADF,cAEE,YAAK,SAAS,CAAIhB,SAAlB,CAA6B,KAAK,CAAE,CAACiB,QAAQ,CAAC,MAAV,CAAiBD,MAAM,CAAC,GAAxB,CAApC,uBAAmE,kCAAK,mDAAL,EAAnE,EAFF,cAOE,aAAK,KAAK,CAAI,CAACE,eAAe,CAAC,OAAjB,CAAyBF,MAAM,CAAC,UAAhC,CAA2CG,YAAY,CAAC,KAAxD,CAAd,wBACA,WAAI,KAAK,CAAI,CAACC,OAAO,CAAC,OAAT,CAAb,uBAAgC,iCAAhC,EADA,CAGC,CAACtB,WAAD,cACC,oCACE,WAAI,SAAS,CAAC,SAAd,UACGK,IAAI,CAACkB,SAAL,CAAeC,MAAf,CACCnB,IAAI,CAACkB,SAAL,CAAeE,GAAf,CAAmB,SAACC,MAAD,CAASC,KAAT,CAAmB,CACpCvB,KAAK,CAAGA,KAAK,CAAGsB,MAAM,CAACE,KAAvB,CACA,oBACE;AACA,WAAgB,KAAK,CAAI,CAACC,OAAO,CAAC,OAAT,CAAzB,uBACE,aAAK,SAAS,CAAC,QAAf,CAAwB,KAAK,CAAI,CAACA,OAAO,CAAC,MAAT,CAAgBC,UAAU,CAAC,QAA3B,CAAoCC,cAAc,CAAC,eAAnD,CAAmEC,UAAU,CAAC,KAA9E,CAAoFC,SAAS,CAAC,GAA9F,CAAkGC,YAAY,CAAC,GAA/G,CAAmHC,WAAW,CAAC,GAA/H,CAAmIC,WAAW,CAAC,OAA/I,CAAuJC,WAAW,CAAC,OAAnK,CAA2KnB,MAAM,CAAC,UAAlL,CAA6LC,QAAQ,CAAC,MAAtM,CAA6MC,eAAe,CAAC,QAA7N,CAAsOC,YAAY,CAAC,KAAnP,CAAjC,wBACE,aAAK,KAAK,CAAI,CAACQ,OAAO,CAAC,MAAT,CAAgBC,UAAU,CAAC,QAA3B,CAAd,wBACA,YAAK,GAAG,CAAEJ,MAAM,CAACY,KAAjB,CAAwB,GAAG,CAAEZ,MAAM,CAACa,KAApC,CAA2C,KAAK,CAAI,CAACrB,MAAM,CAAC,SAAR,CAAkBG,YAAY,CAAC,KAA/B,CAAqCmB,MAAM,CAAC,OAA5C,CAAqDC,KAAK,CAAC,OAA3D,CAApD,EADA,cAEA,aAAK,KAAK,CAAI,CAACvB,MAAM,CAAC,SAAR,CAAd,wBAAkC,mBAAIQ,MAAM,CAACa,KAAX,EAAlC,cACA,YAAK,SAAS,CAAC,cAAf,UAA+Bb,MAAM,CAACE,KAAtC,EADA,GAFA,GADF,cAME,kCACA,eACE,SAAS,CAAC,QADZ,CAEE,OAAO,CAAE,kBAAM,CACb,GAAMc,CAAAA,CAAC,CAAG,CAAEC,GAAG,CAAEjB,MAAP,CAAerB,IAAI,CAAEA,IAAI,CAACuC,KAA1B,CAAV,CACA/C,KAAK,CACFc,IADH,CACQ,kCADR,CAC4C+B,CAD5C,EAEG9B,IAFH,CAEQ,UAAM,CACV,GAAIZ,WAAJ,CAAiB,CACfC,cAAc,CAAC,KAAD,CAAd,CACD,CAFD,IAEO,CACLA,cAAc,CAAC,IAAD,CAAd,CACD,CACF,CARH,EASD,CAbH,CAcA,KAAK,CAAE,CAACmB,eAAe,CAAC,KAAjB,CAAuBF,MAAM,CAAC,WAA9B,CAdP,oBADA,EANF,GADF,EAASS,KAAT,CA4BA;AA9BF,EAgCD,CAlCD,CADD,cAqCC,WAAkB,KAAK,CAAE,CAACE,OAAO,CAAC,OAAT,CAAkBgB,KAAK,CAAC,WAAxB,CAAzB,uBAAgE,gDAAhE,EAAQ,SAAR,CAtCJ,EADF,cA0CE,2BAAOzC,KAAK,cAAG,0CAAsBA,KAAtB,GAAH,CAAsC,IAAlD,GA1CF,CA2CGC,IAAI,CAACkB,SAAL,CAAeC,MAAf,cACC,eAAQ,SAAS,CAAG,QAApB,CAA6B,OAAO,CAAET,WAAtC,iBADD,cAGC,YA9CJ,GADD,CAkDG,IArDJ,GAPF,GADF,EADF,CAqED","sourcesContent":["import { React, useEffect, useState } from \"react\";\r\n// import Fashion from './Fashion'\r\n// import { CartProvider } from 'react-use-cart'\r\nimport Header from \"./Header\";\r\n// import Mobiles from './Mobiles';\r\nimport Cookies from \"universal-cookie\";\r\nimport axios from \"axios\";\r\nimport \"./app1.css\"\r\n\r\nexport default function CartItem(props) {\r\n  const [firstrender, setfirstrender] = useState(true);\r\n  const [showtotal, setShowtotal] = useState(\"dontshow\");\r\n  var total = 0;\r\n  const [user, setUser] = useState(\"\");\r\n  useEffect(() => {\r\n    const token = new Cookies().get(\"token\");\r\n    if (!token) {\r\n      window.location = \"/login\";\r\n    }\r\n    axios.post(\"http://localhost:4000/app/user\", { token }).then((res) => {\r\n      setUser(res.data);\r\n      setfirstrender(false);\r\n    });\r\n  }, [firstrender]);\r\n\r\n  const handleClick = () => {\r\n    if (showtotal === \"dontshow\") {\r\n      setShowtotal(\"show\");\r\n      setTimeout(()=> {\r\n        setShowtotal(\"dontshow\")\r\n      },3000)\r\n    }\r\n  };\r\n  // const {cartitem}=props;\r\n  return (\r\n    <>\r\n      <div  style = {{textAlign:\"center\",margin:\"0\"}}>\r\n        <Header /> \r\n        <div className = {showtotal} style={{wordWrap:\"wrap\",margin:\"0\"}} ><div><h2>your order has ben recorded</h2>\r\n       \r\n        </div>\r\n        </div>\r\n       \r\n        <div style = {{backgroundColor:\"white\",margin:\"5vh 10vw\",borderRadius:\"7px\"}} >\r\n        <h2 style = {{padding:\"4vh 0\"}}><i>CART ITEMS</i></h2>\r\n\r\n        {!firstrender ? (\r\n          <div>\r\n            <ul className=\"mobiles\" >\r\n              {user.cartitems.length ? (\r\n                user.cartitems.map((mobile, index) => {\r\n                  total = total + mobile.price;\r\n                  return (\r\n                    // <div >\r\n                    <li key={index} style = {{display:\"block\"}}>\r\n                      <div className=\"mobile\" style = {{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",borderLeft:\"9px\",borderTop:\"0\",borderBottom:\"0\",borderRight:\"0\",borderStyle:\"solid\",borderColor:\"black\",margin:\"2vh 14vw\",wordWrap:\"wrap\",backgroundColor:\"orange\",borderRadius:\"7px\"}}>\r\n                        <div style = {{display:\"flex\",alignItems:\"center\"}}>\r\n                        <img src={mobile.image} alt={mobile.title} style = {{margin:\"2vh 2vw\",borderRadius:\"7px\",height:\"100px\" ,width:\"100px\"}}></img>\r\n                        <div style = {{margin:\"2vh 2vw\"}}><p>{mobile.title}</p>\r\n                        <div className=\"mobile-price\">{mobile.price}</div></div>\r\n                        </div>\r\n                        <div>\r\n                        <button\r\n                          className=\"button\"\r\n                          onClick={() => {\r\n                            const x = { obj: mobile, user: user.email };\r\n                            axios\r\n                              .post(\"http://localhost:4000/app/delete\", x)\r\n                              .then(() => {\r\n                                if (firstrender) {\r\n                                  setfirstrender(false);\r\n                                } else {\r\n                                  setfirstrender(true);\r\n                                }\r\n                              });\r\n                          }}\r\n                        style={{backgroundColor:\"red\",margin:\"0 2vw 0 0\"}}>\r\n                          Delete\r\n                        </button>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                    // </div>\r\n                  );\r\n                })\r\n              ) : (\r\n                <li key=\"nothing\" style={{display:\"block\" ,color:\"Highlight\" }}><h1>NO CART ITEMS TO DISPLAY</h1></li>\r\n              )}\r\n            </ul>\r\n            <div> {total ? <p>YOUR TOTAL AMOUNT {total}</p> : null}</div>\r\n            {user.cartitems.length ? (\r\n              <button className = \"button\" onClick={handleClick}>BUY</button>\r\n            ) : (\r\n              <p></p>\r\n            )}\r\n          </div>\r\n        ) : null}\r\n        </div>\r\n       \r\n        \r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}